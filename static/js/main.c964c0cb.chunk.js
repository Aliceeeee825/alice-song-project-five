(this["webpackJsonpalice-song-project-five"]=this["webpackJsonpalice-song-project-five"]||[]).push([[0],{28:function(e,t,a){},32:function(e,t,a){e.exports=a.p+"static/media/homeLogo.f09b46dd.svg"},35:function(e,t,a){e.exports=a.p+"static/media/calendarLogo.3aa471d5.svg"},36:function(e,t,a){e.exports=a.p+"static/media/registerLogo.1a5af44a.svg"},37:function(e,t,a){e.exports=a(61)},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),i=a.n(o),l=(a(28),a(8)),s=a(9),c=a(11),m=a(10),d=a(12),u=a(7),h=a(15),g=a(32),f=a.n(g),p=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"homeHead"},r.a.createElement("div",{className:"homeLogo"},r.a.createElement("img",{src:f.a,alt:"A rabbit inspired by Alice in wonderland. cr to Max Jiang"})),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/register"},"Register"))))),r.a.createElement("div",{className:"homeText"},r.a.createElement("h1",null,"TIME LOGGER"),r.a.createElement("h2",null,"A handy tool that helps you track your time")))}}]),t}(n.Component),E=a(18),v=a(26),b=a.n(v);b.a.initializeApp({apiKey:"AIzaSyB5w34JU6hU2W5vXRqgHfUa5a9f2t9Gubc",authDomain:"timelogger-9717c.firebaseapp.com",databaseURL:"https://timelogger-9717c.firebaseio.com",projectId:"timelogger-9717c",storageBucket:"timelogger-9717c.appspot.com",messagingSenderId:"690201323203",appId:"1:690201323203:web:e77af9fcda00e5d5476476",measurementId:"G-9HLWMDP6XK"});var w=b.a,T=a(13),y=a.n(T),C=a(35),S=a.n(C),k=w.auth(),O=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(E.a)({},t.target.name,t.target.value))},e.checkStatus=function(t,a){""===t||""===a?y.a.fire({title:"Error!",text:"Please put your email and password here",icon:"error",confirmButtonText:"Cool"}):(k.signInWithEmailAndPassword(t,a).then((function(t){e.setState({redirect:!0})})).catch((function(e){y.a.fire({title:"Error!",text:e.message,icon:"error",confirmButtonText:"Cool"})})),k.onAuthStateChanged((function(n){e.setState({user:n,email:t,password:a},(function(){(0,e.props.getEmail)(t,n)}))})))},e.login=function(t){t.preventDefault();var a=e.state.email,n=e.state.password;e.checkStatus(a,n)},e.logout=function(){k.signOut().then((function(){e.setState({user:null}),window.location.replace("/login")}))},e.renderRedirect=function(){return e.state.redirect?r.a.createElement(h.a,{to:"/main"}):r.a.createElement(h.a,{to:"/login"})},e.guest=function(t){t.preventDefault();e.checkStatus("guest@guest.com","guests")},e.state={user:null,email:"",password:"",redirect:!1},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.onAuthStateChanged((function(t){t&&e.setState({user:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"loginPage"},this.renderRedirect(),r.a.createElement("div",{className:"loginContent"},r.a.createElement("div",{className:"loginLogo"},r.a.createElement("img",{src:S.a,alt:"A calendar with a check mark inside. Icon made by Free icons from www.freeicons.io"})),r.a.createElement("form",{action:"GET",className:"loginForm",onSubmit:this.checkStatus},r.a.createElement("h2",null,"Welcome Back!"),r.a.createElement("label",{htmlFor:"email"},"Emaill address"),r.a.createElement("input",{type:"email",id:"email",name:"email",onChange:this.handleChange,placeholder:"sample@alice.com",required:!0}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",onChange:this.handleChange,placeholder:"abc123",required:!0}),r.a.createElement(u.b,{to:"/register"},"Don't have an account yet? Register here!"),r.a.createElement("button",{className:"guest",href:"",onClick:this.guest},"Or continue as a guest"),r.a.createElement("button",{onClick:this.login},"Log In"))))}}]),t}(n.Component),A=a(36),N=a.n(A),j=w.auth(),L=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(E.a)({},t.target.name,t.target.value))},e.submitRegister=function(t){t.preventDefault();var a=e.state.email,n=e.state.password;e.state.password!==e.state.confirmedPassword?y.a.fire({title:"Error!",text:"The confirmed password does not match the password",icon:"error",confirmButtonText:"Cool"}):(j.createUserWithEmailAndPassword(a,n).then((function(t){e.setState({redirect:!0})})).catch((function(e){y.a.fire({title:"Error!",text:e.message,icon:"error",confirmButtonText:"Cool"})})),j.onAuthStateChanged((function(t){e.setState({user:t})})))},e.renderRedirect=function(){return e.state.redirect?r.a.createElement(h.a,{to:"/login"}):r.a.createElement(h.a,{to:"/register"})},e.state={user:null,email:"",password:"",confirmedPassword:"",redirect:!1},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"registerPage"},this.renderRedirect(),r.a.createElement("div",{className:"registerContent"},r.a.createElement("div",{className:"registerLogo"},r.a.createElement("img",{src:N.a,alt:"A calendar with a heart in the middle. Icon made by Free icons from www.freeicons.io"})),r.a.createElement("form",{action:"GET",className:"registerForm",onSubmit:this.submitRegister},r.a.createElement("h2",null,"Hello Friend!"),r.a.createElement("label",{htmlFor:"email"},"Emaill address"),r.a.createElement("input",{type:"email",id:"email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",value:this.state.password,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"confirmedPassword"},"Confirmed Password"),r.a.createElement("input",{type:"password",id:"confirmedPassword",name:"confirmedPassword",value:this.state.confirmedPassword,onChange:this.handleChange,required:!0}),r.a.createElement(u.b,{to:"/login"},"Already have an account? Sign in here!"),r.a.createElement("button",{type:"submit"},"Register"))))}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this))).retriveData=function(){w.database().ref().on("value",(function(e){var t=e.val(),n=[];for(var r in t){var o={key:r,log:t[r]};o.log.email===a.props.userEmail&&n.push(o)}a.setState({listOfLogs:n})}))},a.newEventHandler=function(){document.querySelector(".logDetail").classList.toggle("hide")},a.removeAll=function(){var e=w.database().ref();y.a.fire({title:"Are you sure?",text:"Do you really want to clear everything on your schedule?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&(e.remove(),a.setState({cellGenerator:[]},(function(){a.generateCell()})),y.a.fire("Deleted!","Your file has been deleted.","success"))}))},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(h.a,{to:"/login"})},a.addLogHandler=function(e){if(e.preventDefault(),a.state.day&&a.state.startTime&&a.state.endTime){var t={email:a.props.userEmail,day:a.state.day,startTime:a.state.startTime,endTime:a.state.endTime,note:a.state.note};w.database().ref().push(t),document.querySelector(".note").value=""}else y.a.fire({title:"Error!",text:"You need to fill in the day, start time and the end time",icon:"error",confirmButtonText:"Cool"})},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.handleStartChange=function(e){a.setState({startTime:e.target.value,endTimeToAppend:[]},(function(){a.formEndTime()}))},a.color=function(e){e.length>0?e.forEach((function(e){for(var t=e.log.startTime,a=e.log.endTime,n=Number(e.log.day),r=a-t-1;r>=0;r--){var o=Number(t)+r;document.querySelector(".cellNo"+o+"-"+n).style.backgroundColor="#c5c1c0",document.querySelector(".cellNo"+o+"-"+n).innerHTML=e.log.note}})):e.length},a.appendCell=function(e,t){var n=a.state.cellGenerator;n.push(r.a.createElement("div",{className:"cellNo".concat(e," cell"),key:e},t)),a.setState({cellGenerator:n})},a.generateCell=function(){for(var e=a.state.weekdays,t=8,n=0;n<=111;n++)if(1<=n&&n<=7)a.appendCell(n,e[n-1]);else if(n%8===0&&n>8||8===n)a.appendCell(n,"".concat(t,":00")),t++;else{var r=Math.floor(n/8),o=n%8;a.appendCell(r+"-"+o,"")}},a.formDate=function(e){for(var t=0;t<=6;t++){var n=a.state.formDateToApend;n.push(r.a.createElement("option",{key:"".concat(e[t]),value:"".concat(t+1)},e[t])),a.setState({formDateToApend:n})}},a.formStartTime=function(){for(var e=1;e<=13;e++){var t=a.state.startTimeToAppend;t.push(r.a.createElement("option",{key:"".concat(e+7),value:"".concat(e)},e+7)),a.setState({startTimeToAppend:t})}},a.formEndTime=function(){for(var e=1;e<=13;e++)if(e+1>a.state.startTime){var t=a.state.endTimeToAppend;t.push(r.a.createElement("option",{key:"".concat(e+8),value:"".concat(e+1)},e+8)),a.setState({endTimeToAppend:t})}},a.state={listOfLogs:[],day:"",startTime:"",endTime:"",note:"",redirect:!1,email:e.userEmail,cellGenerator:[],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],formDateToApend:[],startTimeToAppend:[],endTimeToAppend:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.userEmail?(this.generateCell(),this.retriveData(),this.formDate(this.state.weekdays),this.formStartTime()):this.setState({redirect:!0})}},{key:"componentDidUpdate",value:function(){this.color(this.state.listOfLogs)}},{key:"render",value:function(){return r.a.createElement("div",{className:"mainContent"},this.renderRedirect(),r.a.createElement("header",null,r.a.createElement("h1",null,"Time Logger"),r.a.createElement(u.b,{to:"/"},"Log Out")),r.a.createElement("div",{className:"calendar"},this.state.cellGenerator.map((function(e){return e}))),r.a.createElement("div",{className:"newLog"},r.a.createElement("button",{className:"newLogPlus",onClick:this.newEventHandler},"+"),r.a.createElement("label",{className:"visuallyhidden"},"add a log")),r.a.createElement("div",{className:"clearAll"},r.a.createElement("button",{className:"clear",onClick:this.removeAll},"Clear")),r.a.createElement("div",{className:"logDetail hide"},r.a.createElement("h2",null,"Add log"),r.a.createElement("form",{action:"GET",onSubmit:this.addLogHandler,className:"addLogForm"},r.a.createElement("label",{htmlFor:"date"},"Date"),r.a.createElement("select",{onChange:this.handleChange,id:"day",name:"day",value:this.state.day,required:!0},r.a.createElement("option",{value:""},"A day of the week"),this.state.formDateToApend.map((function(e){return e}))),r.a.createElement("label",{htmlFor:"statTime"},"Start time"),r.a.createElement("select",{onChange:this.handleStartChange,id:"startTime",name:"startTime",value:this.state.startTime,required:!0},r.a.createElement("option",{value:""},"Start time"),this.state.startTimeToAppend.map((function(e){return e}))),r.a.createElement("label",{htmlFor:"endTime"},"End time"),r.a.createElement("select",{onChange:this.handleChange,id:"endTime",name:"endTime",value:this.state.endTime,required:!0},r.a.createElement("option",{value:""},"End time"),this.state.endTimeToAppend.map((function(e){return e}))),r.a.createElement("label",{htmlFor:"note"},"Note"),r.a.createElement("input",{type:"text",name:"note",className:"note",value:this.state.note,onChange:this.handleChange,maxLength:"15"}),r.a.createElement("button",{className:"addLog",htmlFor:"submit",onClick:this.addLogHandler},"Add"))))}}]),t}(n.Component),x=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).getEmail=function(t,a){e.setState({userEmail:t,user:a})},e.state={userEmail:"",user:""},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(u.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement(h.b,{path:"/login",render:function(){return r.a.createElement(O,{getEmail:e.getEmail})}}),r.a.createElement(h.b,{path:"/register",component:L}),r.a.createElement(h.b,{path:"/main",render:function(){return r.a.createElement(D,{userEmail:e.state.userEmail,user:e.state.user})}}),r.a.createElement(h.b,{path:"/",component:p,exact:!0})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.c964c0cb.chunk.js.map